<p><link rel='stylesheet' href='../assets/css/main.css'/></p>
<p><a href="../README.html">&lt;&lt; back to main index</a></p>
<h1 id="lab-1.2-run-kafka">Lab 1.2: Run Kafka</h1>
<p><b> <span style="color:red;"> Note: Kafka is already installed on lab machines. No need to install it again. The instructions are provided as reference </span></b></p>
<h3 id="overview">Overview</h3>
<p>Install and run Kafka</p>
<h3 id="depends-on">Depends On</h3>
<p>None</p>
<h3 id="run-time">Run time</h3>
<p>10 mins</p>
<h2 id="step-1-download-and-unpack-kafka">Step 1: Download and Unpack Kafka</h2>
<p>Here we are assuming that you are installing kafka in <code>~/apps/kafka</code>. Adjust command paths according to your kafka location.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb1-1" title="1">$   <span class="bu">cd</span>   ~/apps</a>
<a class="sourceLine" id="cb1-2" title="2"></a>
<a class="sourceLine" id="cb1-3" title="3">$   <span class="fu">wget</span> https://dlcdn.apache.org/kafka/3.2.0/kafka_2.12-3.2.0.tgz</a>
<a class="sourceLine" id="cb1-4" title="4"><span class="co"># $   wget https://elephantscale-public.s3.amazonaws.com/downloads/kafka_2.12-3.2.0.tgz</span></a>
<a class="sourceLine" id="cb1-5" title="5"></a>
<a class="sourceLine" id="cb1-6" title="6">$   <span class="fu">tar</span> xvf kafka_2.12-3.2.0.tgz</a>
<a class="sourceLine" id="cb1-7" title="7"></a>
<a class="sourceLine" id="cb1-8" title="8">$   <span class="fu">mv</span> kafka_2.12-3.2.0    kafka</a></code></pre></div>
<h2 id="step-2-start-zookeeper">Step 2: Start Zookeeper</h2>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb2-1" title="1">$   <span class="ex">~/apps/kafka/bin/zookeeper-server-start.sh</span>    ~/apps/kafka/config/zookeeper.properties</a></code></pre></div>
<h2 id="step-3-start-kafka">Step 3: Start Kafka</h2>
<p>Start Kafka</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb3-1" title="1">$   <span class="va">JMX_PORT=</span>9999  <span class="ex">~/apps/kafka/bin/kafka-server-start.sh</span> -daemon \</a>
<a class="sourceLine" id="cb3-2" title="2">        ~/apps/kafka/config/server.properties</a></code></pre></div>
<p>We are setting the optional JMX port so we can get metrics easily.</p>
<h2 id="step-4-verify-kafka-is-running">Step 4: Verify Kafka is Running</h2>
<p>Try JPS command to see if Kafka is running</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb4-1" title="1">$  <span class="ex">jps</span></a></code></pre></div>
<p>Output may look like this. We have Zookeeper and Kafka running</p>
<pre class="console"><code>4737 QuorumPeerMain
5361 Kafka
5075 main
5092 main
5418 Jps</code></pre>
<h2 id="extra">Extra</h2>
<p>Enable deleting the topics</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb6-1" title="1">$   <span class="bu">echo</span> -e <span class="st">&quot;\n\ndelete.topic.enable=true \n&quot;</span> <span class="op">&gt;&gt;</span> ~/apps/kafka/config/server.properties</a></code></pre></div>
<p>And restart Kafka</p>
